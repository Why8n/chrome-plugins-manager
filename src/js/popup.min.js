(function(){var d=$("#showList");var b=$("#hideList");var e=$("#wrap");var a={3:228,4:304,5:380,6:456,7:532,8:608,9:684};e.width(a[localStorage.getItem("_showColumn_")]);function g(){chrome.management.getAll(function(n){var l=[];var m=[];for(var k=0;k<n.length;k++){var o=n[k];if(o.id===chrome.app.getDetails().id||o.type==="theme"){continue}var j="";if(o.icons){j=o.icons[o.icons.length-1].url}var h='<li data-id="'+o.id+'" title="'+o.name+'">									<img src="'+j+'" alt="'+o.name+'" width="60" height="60">								</li>';if(o.enabled===false){m.push(h)}else{l.push(h)}}l.sort(function(i,p){return c.get($(p).data("id"))-c.get($(i).data("id"))});m.sort(function(i,p){return c.get($(p).data("id"))-c.get($(i).data("id"))});d.html(l.join(""));b.html(m.join(""))})}g();var c={_key:"_rankList_",_getLocalStorage:function(){var i=localStorage.getItem(this._key),h=null;if(i){h=JSON.parse(i);return h}else{return{}}},_setLocalStorage:function(h){localStorage.setItem(this._key,JSON.stringify(h))},get:function(i){var h=this._getLocalStorage();if(h&&h[i]){return parseInt(h[i])}else{return 0}},setRank:function(j){var h=this._getLocalStorage();if(h){var i=h[j];if(i){h[j]=parseInt(h[j])+1}else{h[j]=1}this._setLocalStorage(h)}}};$("#wrap").on("click","li",function(){var i=$(this),j=i.data("id"),h=i.closest("#hideList").length===1;if(j){if(h){d.append(i);c.setRank(j)}else{b.append(i)}chrome.management.setEnabled(j,h,function(){})}});$("#wrap").on("mouseenter","li",function(){var h=$(this);window["timer_"+h.data("id")]=setTimeout(function(){h.addClass("hover")},100)}).on("mouseleave","li",function(){var h=$(this);h.removeClass("hover");clearTimeout(window["timer_"+h.data("id")])});function f(){var h=localStorage.getItem("_lockList_");if(h){return JSON.parse(h)}else{return null}}$("body").on("dblclick",function(){var h=f();var i=d.find("li");i.each(function(j,l){var k=$(l);var m=k.data("id");if(h&&h[m]==1){k.attr("locked","");return}b.append(k);chrome.management.setEnabled(m,false,function(){})});setTimeout(function(){d.attr("locked","");setTimeout(function(){d.removeAttr("locked")},800)},0)});$(document).on("mousedown","#hideList>li, #showList>li",function(h){if(h.button===2){chrome.management.uninstall($(this).data("id"),function(){g()})}});$(document).on("contextmenu",function(h){return false})})();