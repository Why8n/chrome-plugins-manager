(function(){var d=$("#showList");var b=$("#hideList");var e=$("#wrap");var a={3:228,4:304,5:380,6:456,7:532,8:608,9:684};e.width(a[localStorage.getItem("_showColumn_")]);function h(){chrome.management.getAll(function(o){var m=[];var n=[];for(var l=0;l<o.length;l++){var p=o[l];if(p.id===chrome.app.getDetails().id||p.type==="theme"){continue}var k="";if(p.icons){k=p.icons[p.icons.length-1].url}var j='<li data-id="'+p.id+'" title="'+p.name+'" data-optionurl="'+p.optionsUrl+'">									<img src="'+k+'" alt="'+p.name+'" width="60" height="60">								</li>';if(p.enabled===false){n.push(j)}else{m.push(j)}}m.sort(function(i,q){return c.get($(q).data("id"))-c.get($(i).data("id"))});n.sort(function(i,q){return c.get($(q).data("id"))-c.get($(i).data("id"))});d.html(m.join(""));b.html(n.join(""))})}h();var c={_key:"_rankList_",_getLocalStorage:function(){var j=localStorage.getItem(this._key),i=null;if(j){i=JSON.parse(j);return i}else{return{}}},_setLocalStorage:function(i){localStorage.setItem(this._key,JSON.stringify(i))},get:function(j){var i=this._getLocalStorage();if(i&&i[j]){return parseInt(i[j])}else{return 0}},setRank:function(k){var i=this._getLocalStorage();if(i){var j=i[k];if(j){i[k]=parseInt(i[k])+1}else{i[k]=1}this._setLocalStorage(i)}}};$("#wrap").on("click","li",function(){var j=$(this),k=j.data("id"),i=j.closest("#hideList").length===1;if(k){if(i){d.append(j);c.setRank(k)}else{b.append(j)}chrome.management.setEnabled(k,i,function(){})}});$("#wrap").on("mouseenter","li",function(){var i=$(this);window["timer_"+i.data("id")]=setTimeout(function(){i.addClass("hover")},100)}).on("mouseleave","li",function(){var i=$(this);i.removeClass("hover");clearTimeout(window["timer_"+i.data("id")])});function g(){var i=localStorage.getItem("_lockList_");if(i){return JSON.parse(i)}else{return null}}$("body").on("dblclick",function(){var i=g();var j=d.find("li");j.each(function(k,m){var l=$(m);var n=l.data("id");if(i&&i[n]==1){l.attr("locked","");return}b.append(l);chrome.management.setEnabled(n,false,function(){})});setTimeout(function(){d.attr("locked","");setTimeout(function(){d.removeAttr("locked")},800)},0)});var f=localStorage.getItem("_rightClick_")||"uninstall";$(document).on("mousedown","#hideList>li, #showList>li",function(j){if(j.button===2){if(f=="uninstall"){chrome.management.uninstall($(this).data("id"),function(){h()})}else{if(f=="lock"){}else{if(f=="option"){var i=$(this).data("optionurl");if(i){window.open(i)}}}}}});$(document).on("contextmenu",function(i){return false})})();