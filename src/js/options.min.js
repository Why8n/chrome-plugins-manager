(function(){var b=$("#_TOOLS_STATUS__");function c(i){if(i){b.html(i).css({opacity:"1",top:"0px"});setTimeout(function(){b.css({opacity:"0",top:"-38px"})},1000)}}var f=null,g=$("#js-sel-column-show"),a=$("#js-sel-column");function e(i){localStorage.setItem("_showColumn_",i);g.html(i);if(f){clearTimeout(f);f=null}f=setTimeout(function(){c("设置成功!")},600)}a.on("input chnage",function(){e($(this).val())});var h=localStorage.getItem("_showColumn_");if(h){a.val(h);g.html(h)}$("#js-clear-rank").click(function(){localStorage.removeItem("_rankList_");c("已清除!")});chrome.management.getAll(function(p){var n=[];var l=d();for(var o=0;o<p.length;o++){var q=p[o];if(q.id===chrome.app.getDetails().id||q.type==="theme"){continue}var m="";if(q.icons){m=q.icons[q.icons.length-1].url}var j="";if(l){if(l[q.id]=="1"){j="locked"}}var k='<li data-id="'+q.id+'" title="'+q.name+'" '+j+'>								<img src="'+m+'" alt="'+q.name+'">							</li>';n.push(k)}$("#_PLUGINS_LIST_").html(n.join(""))});function d(){var i=localStorage.getItem("_lockList_");if(i){return JSON.parse(i)}else{return{}}}$("#_PLUGINS_LIST_").on("click","li",function(){var i=$(this);var k=i.data("id");var j=d();if(i.attr("locked")===undefined){i.attr("locked","");j[k]="1"}else{i.removeAttr("locked");delete j[k]}localStorage.setItem("_lockList_",JSON.stringify(j))})})();