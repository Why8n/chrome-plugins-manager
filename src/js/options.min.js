(function(){function b(a){a&&(h.html(a).css({opacity:"1",top:"0px"}),setTimeout(function(){h.css({opacity:"0",top:"-38px"})},1E3))}function n(a){localStorage.setItem("_showColumn_",a);k.html(a);e&&(clearTimeout(e),e=null);e=setTimeout(function(){b("\u8bbe\u7f6e\u6210\u529f!")},600)}function l(){var a=localStorage.getItem("_lockList_");return a?JSON.parse(a):{}}var h=$("#_TOOLS_STATUS__"),e=null,k=$("#js-sel-column-show"),f=$("#js-sel-column");f.on("input chnage",function(){n($(this).val())});var g=
localStorage.getItem("_showColumn_");g&&(f.val(g),k.html(g));$("#js-clear-rank").click(function(){localStorage.removeItem("_rankList_");b("\u5df2\u91cd\u7f6e\u6392\u5e8f!")});$("[data-switch-id]").each(function(){var a=$(this),c="_switch_"+a.data("switch-id")+"_";"close"===localStorage.getItem(c)&&a.closest(".list").addClass("switch-btn-close")});$(".switch-btn").click(function(){var a=$(this),c=a.closest(".list"),a="_switch_"+a.data("switch-id")+"_";console.log(a);c.toggleClass("switch-btn-close");
b("\u8bbe\u7f6e\u6210\u529f!");c.hasClass("switch-btn-close")?localStorage.setItem(a,"close"):localStorage.removeItem(a)});chrome.management.getAll(function(a){for(var c=[],m=l(),b=0;b<a.length;b++){var d=a[b];if(d.id!==chrome.app.getDetails().id&&"theme"!==d.type){var e="";d.icons&&(e=d.icons[d.icons.length-1].url);var f="";m&&"1"==m[d.id]&&(f="locked");c.push('<li data-id="'+d.id+'" title="'+d.name+'" '+f+'><img src="'+e+'" alt="'+d.name+'"></li>')}}$("#_PLUGINS_LIST_").html(c.join(""))});$("#_PLUGINS_LIST_").on("click",
"li",function(){var a=$(this),c=a.data("id"),b=l();void 0===a.attr("locked")?(a.attr("locked",""),b[c]="1"):(a.removeAttr("locked"),delete b[c]);localStorage.setItem("_lockList_",JSON.stringify(b))});f=localStorage.getItem("_rightClick_")||"uninstall";$("#js-rightclick").val(f).change(function(){var a=$(this).val();localStorage.setItem("_rightClick_",a);b("\u8bbe\u7f6e\u6210\u529f!")})})();
